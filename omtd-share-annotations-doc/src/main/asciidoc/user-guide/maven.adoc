[[sect_maven]]

== Using the Maven Plugin

A set of properly annotated class files within a Maven project can be automatically processed as part of the build to
produce the relevant descriptor files using the Maven plugin we provide. To use this plugin simply add the following to
your existing `pom.xml`.

[source,xml]
----
<repositories>
    <repository>
      <id>omtd-releases</id>
      <url>https://repo.openminted.eu/content/repositories/releases</url>
      <releases>
        <enabled>true</enabled>
      </releases>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>
    <repository>
      <id>omtd-snapshots</id>
      <url>https://repo.openminted.eu/content/repositories/snapshots</url>
      <releases>
        <enabled>false</enabled>
      </releases>
      <snapshots>
        <enabled>true</enabled>
      </snapshots>
    </repository>
</repositories>

<dependencies>
    <dependency>
        <groupId>eu.openminted.share.annotations</groupId>
        <artifactId>omtd-share-annotations-api</artifactId>
        <version>0.0.1-SNAPSHOT</version>
    </dependency>
</dependencies>

<pluginRepositories>
    <pluginRepository>
        <id>omtd-releases</id>
        <name>OpenMinTeD releases repository</name>
        <url>https://repo.openminted.eu/content/repositories/releases</url>
        <releases>
            <enabled>true</enabled>
        </releases>
        <snapshots>
            <enabled>false</enabled>
        </snapshots>
    </pluginRepository>
    <pluginRepository>
	    <id>omtd-snapshots</id>
	    <name>OpenMinTeD snapshots repository</name>
	    <url>https://repo.openminted.eu/content/repositories/snapshots</url>
	    <releases>
	        <enabled>false</enabled>
        </releases>
        <snapshots>
            <enabled>true</enabled>
        </snapshots>
    </pluginRepository>
</pluginRepositories>

<build>
   <plugins>
      <plugin>
         <groupId>eu.openminted.share.annotations</groupId>
         <artifactId>omtd-share-annotations-maven-plugin</artifactId>
         <version>3.0.2.0-SNAPSHOT</version>
         <executions>
            <execution>
               <phase>process-classes</phase>
               <goals>
                  <goal>generate</goal>
               </goals>
            </execution>
         </executions>
      </plugin>
   </plugins>
</build>
----

Note that if you already have a `repositories`, `pluginRepositories` or `build` section within your `pom.xml` you will
only need to include the relevant repository or plugin element.
